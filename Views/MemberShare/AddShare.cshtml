@model bms.ViewModels.Member.MemberVm

@{
    ViewData["Title"] = "Member Share - Buy Share";
}

<div class="container py-5">
    <h2 class="fw-light mb-4">@Model.FullName</h2>
    
    <form asp-action="AddShare" method="post" style="max-width: 400px;">
        @Html.AntiForgeryToken()
        <input type="hidden" name="MemberId" value="@Model.MemberId"/>

        <div class="mb-3">
            <label for="Amount" class="form-label">Share Amount</label>
            <input type="number" step="0.01" name="Amount" id="Amount" class="form-control" placeholder="Enter share amount" required />
        </div>

        <div class="mb-3">
            <label for="ShareType" class="form-label">Share Type</label>
            <select name="ShareType" id="ShareType" class="form-select" required>
                <option value="">Select Share Type</option>
                <option value="Ordinary">Ordinary Share</option>
                <option value="Additional">Additional Share</option>
            </select>
        </div>

        <div class="mb-3">
            <button type="submit" class="btn btn-primary me-2" id="submitBtn">Buy Share</button>
            <a asp-action="Index" class="btn btn-outline-secondary">Cancel</a>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        document.querySelector('form').addEventListener('submit', function(e) {
            var btn = document.getElementById('submitBtn');
            if (btn.disabled) {
                e.preventDefault();
                return false;
            }
            btn.disabled = true;
            btn.textContent = 'Processing...';
        });
    </script>
}